<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title><ui:insert name="title" /></title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css" />
    </h:head>
    <h:body>
        <ui:include src="common/nav.xhtml" />
        <main>           
            <div class="container"> 
                <h3 class="header">
                    <ui:insert name="header" />
                </h3>
                <ui:insert name="content">
                    Contenido por defecto ...    
                </ui:insert>                
            </div>            
        </main>
        <ui:include src="common/footer.xhtml" />   

        <div id="modal-preloader" class="modal">
            <div class="modal-content">
                <div class="progress">
                    <div class="indeterminate"></div>
                </div>
            </div>
        </div>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
        <script>

            $(document).ready(function () {
                $('select').formSelect();
                $('.modal').modal();
                M.updateTextFields();
                $('.tabs').tabs();
                $('.character-counter').characterCounter();
            });

            function onStart() {
                $('#modal-preloader').modal("open");
            }

            function onComplete() {
                $('#modal-preloader').modal("close");
                $('select').formSelect();
                M.updateTextFields();
                $('.tabs').tabs();
                $('.character-counter').characterCounter();
            }

            function onSuccess() {
                $('#modal-preloader').modal("close");
                $('select').formSelect();
                M.updateTextFields();
                $('.tabs').tabs();
                $('.character-counter').characterCounter();
            }

            function onError() {
                $('#modal-preloader').modal("close");
                $('select').formSelect();
                M.updateTextFields();
                $('.tabs').tabs();
                $('.character-counter').characterCounter();
            }

        </script>
        <style>
            body {
                display: flex;
                min-height: 100vh;
                flex-direction: column;
            }

            main {
                flex: 1 0 auto;
            }
        </style>
        <p:ajaxStatus onstart="onStart()" oncomplete="onComplete()" onsuccess="onSuccess()" onerror="onError()" />
    </h:body>
</html>