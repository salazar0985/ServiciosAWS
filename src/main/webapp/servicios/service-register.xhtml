<!DOCTYPE html>
<f:view contentType="text/html"
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:p="http://primefaces.org/ui">
    <ui:composition template="/template/template.xhtml">
        <!-- Page Content goes here -->
        <ui:define name="title">#{msg['service_reg_title']}</ui:define>
        <ui:define name="header">Registro de Servicios</ui:define>

        <ui:define name="content">
            <div class="row">
                <h:form class="col s12">
                    <div class="row">
                        <div class="input-field col s4">
                            <h:inputText placeholder="#{msg['service_reg_name_placeholder']}"
                                         id="serviceName" value="${serviceController.serviceName}"
                                         class="validate"/>
                            <h:outputLabel for="serviceName" value="#{msg['service_reg_name']}"></h:outputLabel>
                        </div>
                        <h:commandButton class="btn waves-effect waves-light" type="button"
                                         value="#{msg['service_reg_add']}">
                            <!--<i class="material-icons">send</i>-->
                        </h:commandButton>
                    </div>
                    <div class="row">
                        <div class="input-field col s4">
                            <p:inputTextarea type="text" id="predifiniedServicesTextArea" class="materialize-textarea"
                                             placeholder="#{msg['service_reg_registred_placeholder']}"/>
                            <h:outputLabel for="predifiniedServicesTextArea"
                                           text="#{msg['service_reg_registred']}"></h:outputLabel>
                        </div>
                    </div>

                    <div class="row">
                        <h3 class="header">#{msg['service_reg_service_field']}</h3>
                    </div>

                    <div class="row">
                        <div class="input-field col s4">
                            <h:inputText id="fieldName" value = "#{serviceController.fieldName}"/>
                            <h:outputLabel for="fieldName" value="#{msg['service_reg_field']}"></h:outputLabel>
                        </div>

                        <div class="input-field col s4">
                            <h:selectOneMenu id="selectDataType" value="#{serviceController.selectedDataType}">
                                <f:selectItem itemValue="" itemLabel="#{msg['service_reg_select_data_type_choose']}"></f:selectItem>
                                <f:selectItems value="#{serviceController.tipoDatoList}" var="tipoDato"
                                               itemLabel="#{tipoDato.descripcion}"
                                               itemValue="#{tipoDato.clave}"></f:selectItems>
                            </h:selectOneMenu>
                            <h:outputLabel for="selectDataType" text="#{msg['service_reg_select_data_type']}"/>
                        </div>


                        <h:commandLink class="btn-floating btn-large waves-effect waves-light">
                            <i class="material-icons">add</i>
                            <f:ajax event="click" listener="#{serviceController.addField()}" execute="@form" render="@form" update="@form"/>
                        </h:commandLink>

                    </div>

                    <div class="row">
                        <h4>#{msg['service_reg_added_field']}</h4>
                    </div>
                    <div class="row">
                        <div class="col s8">
                            <h:outputLabel for="fieldDataList"
                                           text="#{msg['service_reg_field_list']}"></h:outputLabel>
                            <table class="striped" id="fieldDataList">
                                <thead>
                                <tr>
                                    <th>#{msg['service_reg_field']}</th>
                                    <th>#{msg['service_reg_select_data_type']}</th>
                                    <th></th>
                                </tr>
                                </thead>

                                <tbody>

                                <ui:repeat value="#{serviceController.fieldList}" var="fieldAdded">
                                    <tr>
                                    <td>#{fieldAdded.fieldName}</td>
                                    <td>#{fieldAdded.dataTypeStr}</td>
                                    <td>
                                        <div class="fixed-action-btn" style="position: relative !important; z-index: 0; padding-top: 33%;">
                                        <h:commandLink class="btn-floating blue">
                                        <i class="material-icons">mode_edit</i>
                                        </h:commandLink>
                                        <ul>
                                            <li><h:commandLink class="btn-floating red"><i class="material-icons">delete</i>
                                                <f:ajax event="click" listener="#{serviceController.removeField(fieldAdded)}" execute="@form" render="@form" update="@form"/>
                                            </h:commandLink></li>
                                            <li><h:commandLink class="btn-floating yellow darken-1"><i class="material-icons">format_quote</i></h:commandLink></li>
                                            <li><h:commandLink class="btn-floating green"><i class="material-icons">publish</i></h:commandLink></li>
                                            <li><h:commandLink class="btn-floating blue"><i class="material-icons">attach_file</i></h:commandLink></li>
                                        </ul>
                                        </div>
                                    </td>
                                    </tr>
                                </ui:repeat>

                                </tbody>
                            </table>

                        </div>

                    </div>




                    <div class="row">
                        <h3 class="header">#{msg['service_reg_data']}</h3>
                    </div>

                    <div class="row">
                        <div class="input-field col s4">
                            <h:outputLabel for="customPrice">
                                <h:selectBooleanCheckbox id="customPrice" class="filled-in" checked="checked"/>
                                <span>#{msg['service_reg_price_checkbox']}</span>
                            </h:outputLabel>
                        </div>

                        <div class="input-field col s4">
                            <h:selectOneMenu value="#{serviceController.selectedPayForm}">
                                <f:selectItem itemValue=""
                                              itemLabel="#{msg['service_reg_payform_choose']}"></f:selectItem>
                                <f:selectItems value="#{serviceController.formaPagoList}" var="formaPago"
                                               itemLabel="#{formaPago.descripcion}"
                                               itemValue="#{formaPago.clave}"
                                        ></f:selectItems>
                                <!--<f:selectItem value="2"></f:selectItem>-->
                                <!--<f:selectItem value="3"></f:selectItem>-->
                            </h:selectOneMenu>
                            <h:outputLabel text="#{msg['service_reg_payform']}"></h:outputLabel>
                        </div>
                        <div class="input-field col s4">
                            <h:selectOneMenu id="selectCurrency">
                                <f:selectItem itemValue=""
                                              itemLabel="#{msg['service_reg_currency_choose']}"></f:selectItem>
                                <f:selectItem itemValue=""
                                              itemLabel="#{msg['service_reg_currency_choose']}"></f:selectItem>
                                <f:selectItems value="#{serviceController.tipoDivisaList}" var="divisa"
                                               itemLabel="#{divisa.descripcion}"
                                               itemValue="#{divisa.clave}"
                                ></f:selectItems>
                                <!--<f:selectItem value="1"></f:selectItem>-->
                                <!--<f:selectItem value="2"></f:selectItem>-->
                                <!--<f:selectItem value="3"></f:selectItem>-->
                            </h:selectOneMenu>
                            <h:outputLabel for="selectCurrency" text="#{msg['service_reg_currency']}"></h:outputLabel>
                        </div>

                        <div class="input-field col s4">
                            <h:inputText type="text" id="servicePrice" class="validate"
                                         placeholder="#{service_reg_price_placeholder}"/>
                            <h:outputLabel for="servicePrice" text="#{msg['service_reg_price']}"></h:outputLabel>
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-field col s8">
                            <h:inputTextarea  id="payFormTextArea" class="materialize-textarea"
                                             placeholder="service_reg_payform_none">
                            </h:inputTextarea>
                            <h:outputLabel for="payFormTextArea"
                                           text="#{msg['service_reg_payform_list']}"></h:outputLabel>
                        </div>
                    </div>
                    <div class="row right">
                        <h:commandButton class="btn waves-effect waves-light" type="submit"
                                         value="#{msg['button_send']}">
                            <!--<i class="material-icons right">send</i>-->
                        </h:commandButton>
                    </div>
                </h:form>
            </div>
        </ui:define>
    </ui:composition>
</f:view>