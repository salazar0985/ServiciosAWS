<!DOCTYPE html>
<f:view contentType="text/html"
        xmlns="http://www.w3.org/1999/xhtml" 
        xmlns:ui="http://java.sun.com/jsf/facelets" 
        xmlns:h="http://java.sun.com/jsf/html" 
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
        xmlns:p="http://primefaces.org/ui">

    <ui:composition template="template/template.xhtml">

        <ui:define name="title">Usuarios</ui:define>

        <ui:define name="header">Registro de usuarios</ui:define>

        <ui:define name="content">
            <div styleClass="row card">  
                <div class="col s12 card-content">                   
                    <h:form>
                        <div class="row">
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.curp}" id="curp" maxlength="18" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="18" />
                                </h:inputText>
                                <h:outputLabel value="CURP" for="curp" />
                                <h:message for="curp" />
                            </div>
                            <div class="input-field col s4">
                                <h:commandButton type="button" value="Buscar" styleClass="waves-effect waves-light btn white-text" />
                            </div>
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.rfc}" id="rfc" maxlength="13" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="13" />
                                </h:inputText>
                                <h:outputLabel value="RFC" for="rfc" />
                                <h:message for="rfc" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.nombre}" id="nombre" maxlength="150" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="150" />
                                </h:inputText>
                                <h:outputLabel value="Nombre" for="nombre" />
                                <h:message for="nombre" />
                            </div>
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.paterno}" id="paterno" maxlength="150" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="150" />
                                </h:inputText>
                                <h:outputLabel value="Apellido Paterno" for="paterno" />
                                <h:message for="paterno" />
                            </div>
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.materno}" id="materno" maxlength="150" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="150" />
                                </h:inputText>
                                <h:outputLabel value="Apellido Materno" for="materno" />
                                <h:message for="materno" />
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.denominacion}" id="denominacion" maxlength="150" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="150" />
                                </h:inputText>
                                <h:outputLabel value="Denominación" for="denominacion" />
                                <h:message for="denominacion" />
                            </div>
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.telefono}" id="telefono" maxlength="20" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="20" />
                                </h:inputText>
                                <h:outputLabel value="Teléfono" for="telefono" />
                                <h:message for="telefono" />
                            </div>
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.datosUsuario.email}" id="email" maxlength="100" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="100" />
                                </h:inputText>
                                <h:outputLabel value="Correo electrónico" for="email" />
                                <h:message for="email" />
                            </div>
                        </div>
                        <div class="row">
                            <p:outputPanel id="col-codigo-postal" class="input-field col s4">

                                <h:inputText value="#{usuarioController.domicilio.codigoPostal}" id="codigo-postal" maxlength="5" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="5" />
                                    <f:ajax event="blur" execute="@this" listener="#{usuarioController.establecerDireccionPorCodigoPostal()}" render="col-estado col-municipio col-colonia" />
                                </h:inputText>
                                <!--
                                <h:selectOneMenu value="#{usuarioController.domicilio.codigoPostal}" id="codigo-postal">
                                    <f:selectItem itemLabel="Choose your option" itemDisabled="true" />
                                    <f:selectItems value="#{usuarioController.codigoPostalList}" var="codigoPostal" itemLabel="#{codigoPostal}" itemValue="#{codigoPostal}" />
                                </h:selectOneMenu>
                                
                                -->
                                <h:outputLabel value="Código postal" for="codigo-postal" />
                                <h:message for="codigo-postal" />
                            </p:outputPanel>
                            <div class="input-field col s4">
                                <h:selectOneMenu value="#{usuarioController.domicilio.pais}" id="pais">
                                    <f:selectItem itemLabel="México" itemValue="México" />
                                </h:selectOneMenu>
                                <h:outputLabel value="País" for="pais" />
                                <h:message for="pais" />
                            </div>
                            <p:outputPanel id="col-estado" class="input-field col s4">
                                <h:selectOneMenu value="#{usuarioController.domicilio.estado}" id="estado">
                                    <f:selectItem itemLabel="Choose your option" itemDisabled="true" />
                                    <f:selectItems value="#{usuarioController.estadoList}" var="estado" itemLabel="#{estado}" itemValue="#{estado}" />
                                    <f:ajax event="change" execute="@this" listener="#{usuarioController.actualizarMunicipio()}" render="col-municipio"  />
                                </h:selectOneMenu>
                                <h:outputLabel value="Estado" for="estado" />
                                <h:message for="estado" />
                            </p:outputPanel>
                        </div>
                        <div class="row">
                            <p:outputPanel id="col-municipio" class="input-field col s4">
                                <h:selectOneMenu value="#{usuarioController.domicilio.municipio}" id="municipio">
                                    <f:selectItem itemLabel="Choose your option" itemDisabled="true" />
                                    <f:selectItems value="#{usuarioController.municipioList}" var="municipio" itemLabel="#{municipio}" itemValue="#{municipio}" />
                                    <f:ajax event="change" execute="@this" listener="#{usuarioController.actulizarColonia()}" render="col-colonia" />
                                </h:selectOneMenu>
                                <h:outputLabel value="Municipio" for="municipio" />
                                <h:message for="municipio" />
                            </p:outputPanel>
                            <p:outputPanel id="col-colonia" styleClass="input-field col s4">
                                <h:selectOneMenu value="#{usuarioController.domicilio.colonia}" id="colonia">
                                    <f:selectItem itemLabel="Choose your option" itemDisabled="true" />
                                    <f:selectItems value="#{usuarioController.coloniaList}" var="colonia" itemLabel="#{colonia}" itemValue="#{colonia}" />
                                    <f:ajax event="change" execute="@this" listener="#{usuarioController.actualizarCodigoPostal()}" render="col-codigo-postal" />
                                </h:selectOneMenu>
                                <h:outputLabel value="Colonia" for="colonia" />
                                <h:message for="colonia" />
                            </p:outputPanel> 
                            <div class="input-field col s4">
                                <h:inputText value="#{usuarioController.domicilio.calle}" id="calle" maxlength="18" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="18" />
                                </h:inputText>
                                <h:outputLabel value="Calle" for="calle" />
                                <h:message for="calle" />
                            </div>                               
                        </div> 
                        <div class="row">
                            <div class="input-field col s2">
                                <h:inputText value="#{usuarioController.domicilio.numero}" id="numero-exterior" maxlength="10" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="10" />
                                </h:inputText>
                                <h:outputLabel value="Número exterior" for="numero-exterior" />
                                <h:message for="numero-exterior" />
                            </div> 
                            <div class="input-field col s2">
                                <h:inputText value="#{usuarioController.domicilio.numeroInt}" id="numero-interior" styleClass="character-counter">
                                    <f:passThroughAttribute name="data-length" value="10" />
                                </h:inputText>
                                <h:outputLabel value="Número interior" for="numero-interior" />
                                <h:message for="numero-interior" />
                            </div> 
                            <div class="input-field col s8">
                                <h:inputTextarea id="datos-adicionales" styleClass="materialize-textarea character-counter">
                                    <f:passThroughAttribute name="data-length" value="300" />
                                </h:inputTextarea>
                                <h:outputLabel value="Datos adicionales" for="datos-adicionales" />
                                <h:message for="datos-adicionales" />
                            </div>
                        </div>
                    </h:form>
                </div>            
            </div>
        </ui:define>
    </ui:composition>
</f:view>